{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React functional component 'InvoiceDetail' that displays detailed information about an invoice, including items, payments, attachments, and options to download PDFs, upload attachments, send reminders, and record payments.", "external_files": ["../api/invoiceApi", "../components/common/FileUploader", "../components/common/Table", "../components/common/Badge"], "external_methods": ["InvoiceApi.get", "InvoiceApi.listAttachments", "InvoiceApi.pdf", "InvoiceApi.downloadAttachment", "InvoiceApi.removeAttachment", "InvoiceApi.uploadAttachment", "InvoiceApi.addPayment", "InvoiceApi.sendReminder"], "published": ["InvoiceDetail"], "classes": [], "methods": [{"name": "load", "description": "Fetches invoice data and attachments, updating component state; handles errors with alerts."}, {"name": "onDownloadPdf", "description": "Downloads the invoice as a PDF file by fetching binary data and creating a download link."}, {"name": "onUpload", "description": "Handles file upload for attachments, triggers reload on success."}, {"name": "onDownloadAttachment", "description": "Downloads a specific attachment by creating a blob URL."}, {"name": "onRemoveAttachment", "description": "Removes an attachment after user confirmation, then reloads data."}, {"name": "onAddPayment", "description": "Records a new payment, resets form, and reloads invoice data; handles errors."}, {"name": "onSendReminder", "description": "Sends invoice reminder via specified channel, with optional test flag."}, {"name": "InvoiceDetail()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useParams", "useState", "useEffect", "InvoiceApi.get", "InvoiceApi.listAttachments", "InvoiceApi.pdf", "InvoiceApi.downloadAttachment", "InvoiceApi.removeAttachment", "InvoiceApi.uploadAttachment", "InvoiceApi.addPayment", "InvoiceApi.sendReminder"], "search-terms": ["InvoiceDetail React component", "invoice API", "attachments management", "PDF download", "payment recording", "send reminder", "file upload", "attachment download", "reminder buttons"], "state": 2, "file_id": 35, "knowledge_revision": 98, "git_revision": "91c19239dbb6ace0e3c5c446dcc792e5a237afb8", "revision_history": [{"75": ""}, {"98": "91c19239dbb6ace0e3c5c446dcc792e5a237afb8"}], "ctags": [{"_type": "tag", "name": "InvoiceDetail", "path": "/home/kavia/workspace/code-generation/smart-invoice-and-payment-reminder-system-4219-4235/invoice_frontend/src/pages/InvoiceDetail.jsx", "pattern": "/^export default function InvoiceDetail() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "payment", "path": "/home/kavia/workspace/code-generation/smart-invoice-and-payment-reminder-system-4219-4235/invoice_frontend/src/pages/InvoiceDetail.jsx", "pattern": "/^                     value={payment.amount} onChange={(e) => setPayment((s) => ({ ...s, amount: /", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "payment", "path": "/home/kavia/workspace/code-generation/smart-invoice-and-payment-reminder-system-4219-4235/invoice_frontend/src/pages/InvoiceDetail.jsx", "pattern": "/^                     value={payment.date} onChange={(e) => setPayment((s) => ({ ...s, date: e.ta/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "payment", "path": "/home/kavia/workspace/code-generation/smart-invoice-and-payment-reminder-system-4219-4235/invoice_frontend/src/pages/InvoiceDetail.jsx", "pattern": "/^                     value={payment.note} onChange={(e) => setPayment((s) => ({ ...s, note: e.ta/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}], "hash": "c48f9f92252afcde4d2c834c863e155e", "format-version": 4, "code-base-name": "invoice_frontend", "filename": "invoice_frontend/src/pages/InvoiceDetail.jsx", "fields": [{"name": "value={payment.amount} onChange={(e) => setPayment((s) => ({ ...s, amount: /", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={payment.date} onChange={(e) => setPayment((s) => ({ ...s, date: e.ta/", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={payment.note} onChange={(e) => setPayment((s) => ({ ...s, note: e.ta/", "scope": "value", "scopeKind": "class", "description": "unavailable"}]}